name = "arc-telegram-bot"
main = "workers/index.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Worker configuration
[env.development]
name = "arc-telegram-bot-dev"

[env.production]
name = "arc-telegram-bot-prod"

# Environment variables (non-sensitive)
[vars]
NODE_ENV = "production"
ARC_RPC_URL = "https://rpc.testnet.arc.network"
ARC_CHAIN_ID = "5042002"
ARC_EXPLORER_URL = "https://testnet.arcscan.app"
RATE_LIMIT_WINDOW_MS = "900000"
RATE_LIMIT_MAX_REQUESTS = "100"
LOG_LEVEL = "info"

# KV namespace for session storage (optional)
[[kv_namespaces]]
binding = "SESSIONS"
id = "your-kv-namespace-id"
preview_id = "your-preview-kv-namespace-id"

# Durable Objects for rate limiting (optional)
# [[durable_objects.bindings]]
# name = "RATE_LIMITER"
# class_name = "RateLimiter"

# Build configuration
[build]
command = "npm run build:workers"

# Routes (custom domain)
# routes = [
#   { pattern = "your-domain.com/webhook/*", zone_name = "your-domain.com" }
# ]